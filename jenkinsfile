pipeline {
  agent any

  options {
     buildDiscarder(logRotator(numToKeepStr: '1'))
     ansiColor('xterm')
  }

  triggers {
    pollSCM('* * * * *') // all star means it job will trigger every min automatically
  }

  parameters {
    string(name: 'APP_URL', defaultValue: '', description: 'APP URL')
  }

  environment {
    ABC="abc"
    SSH = credentials("SSH")
  }

  stages {
    stage('New') {
      environment {
        XYZ="xyz"
  }
      steps {
        echo 'Hello World'
        echo "${XYZ}"
        echo "${ssh}"
        echo "${APP_URL}"
        echo "Hello,nice to meet you."
       }

    stage('Example') {

       input {
         message "Should we continue?"
         ok "Yes, we should."
         submitter "admin"
       }
       steps {
          echo "Hello, nice to meet you."
       }
    }
  }

  post {
    always {
       echo 'ok'
     }
   }
 }
